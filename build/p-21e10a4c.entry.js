import{r as t,h as e,H as o,g as i,c as n}from"./p-c65040e9.js";import{A as s}from"./p-ea787fa0.js";const r=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),a=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),l=t=>t.replace(/([=!:$/()])/g,"\\$1"),c=t=>t&&t.sensitive?"":"i",h=(t,e,o)=>{for(var i=(o=o||{}).strict,n=!1!==o.end,s=a(o.delimiter||"/"),r=o.delimiters||"./",l=[].concat(o.endsWith||[]).map(a).concat("$").join("|"),h="",u=!1,d=0;d<t.length;d++){var p=t[d];if("string"==typeof p)h+=a(p),u=d===t.length-1&&r.indexOf(p[p.length-1])>-1;else{var f=a(p.prefix||""),m=p.repeat?"(?:"+p.pattern+")(?:"+f+"(?:"+p.pattern+"))*":p.pattern;e&&e.push(p),h+=p.optional?p.partial?f+"("+m+")?":"(?:"+f+"("+m+"))?":f+"("+m+")"}}return n?(i||(h+="(?:"+s+")?"),h+="$"===l?"$":"(?="+l+")"):(i||(h+="(?:"+s+"(?="+l+"))?"),u||(h+="(?="+s+"|"+l+")")),new RegExp("^"+h,c(o))},u=(t,e,o)=>t instanceof RegExp?((t,e)=>{if(!e)return t;var o=t.source.match(/\((?!\?)/g);if(o)for(var i=0;i<o.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t})(t,e):Array.isArray(t)?((t,e,o)=>{for(var i=[],n=0;n<t.length;n++)i.push(u(t[n],e,o).source);return new RegExp("(?:"+i.join("|")+")",c(o))})(t,e,o):((t,e,o)=>h(((t,e)=>{for(var o,i=[],n=0,s=0,c="",h=e&&e.delimiter||"/",u=e&&e.delimiters||"./",d=!1;null!==(o=r.exec(t));){var p=o[0],f=o[1],m=o.index;if(c+=t.slice(s,m),s=m+p.length,f)c+=f[1],d=!0;else{var g="",b=t[s],x=o[2],y=o[3],v=o[4],w=o[5];if(!d&&c.length){var k=c.length-1;u.indexOf(c[k])>-1&&(g=c[k],c=c.slice(0,k))}c&&(i.push(c),c="",d=!1);var P=g||h,O=y||v;i.push({name:x||n++,prefix:g,delimiter:P,optional:"?"===w||"*"===w,repeat:"+"===w||"*"===w,partial:""!==g&&void 0!==b&&b!==g,pattern:O?l(O):"[^"+a(P)+"]+?"})}}return(c||s<t.length)&&i.push(c+t.substr(s)),i})(t,o),e,o))(t,e,o),d=(t,e)=>new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t),p=(t,e)=>d(t,e)?t.substr(e.length):t,f=t=>"/"===t.charAt(t.length-1)?t.slice(0,-1):t,m=t=>"/"===t.charAt(0)?t:"/"+t,g=t=>"/"===t.charAt(0)?t.substr(1):t,b=t=>{const{pathname:e,search:o,hash:i}=t;let n=e||"/";return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n},x=t=>"/"===t.charAt(0),y=t=>Math.random().toString(36).substr(2,t),v=(t,e)=>{for(let o=e,i=o+1,n=t.length;i<n;o+=1,i+=1)t[o]=t[i];t.pop()},w=(t,e)=>{if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every((t,o)=>w(t,e[o]));const o=typeof t;if(o!==typeof e)return!1;if("object"===o){const o=t.valueOf(),i=e.valueOf();if(o!==t||i!==e)return w(o,i);const n=Object.keys(t),s=Object.keys(e);return n.length===s.length&&n.every(o=>w(t[o],e[o]))}return!1},k=(t,e,o,i)=>{let n;"string"==typeof t?(n=(t=>{let e=t||"/",o="",i="";const n=e.indexOf("#");-1!==n&&(i=e.substr(n),e=e.substr(0,n));const s=e.indexOf("?");return-1!==s&&(o=e.substr(s),e=e.substr(0,s)),{pathname:e,search:"?"===o?"":o,hash:"#"===i?"":i,query:{},key:""}})(t),void 0!==e&&(n.state=e)):(n=Object.assign({pathname:""},t),n.search&&"?"!==n.search.charAt(0)&&(n.search="?"+n.search),n.hash&&"#"!==n.hash.charAt(0)&&(n.hash="#"+n.hash),void 0!==e&&void 0===n.state&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(r){throw r instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):r}var s;return n.key=o,i?n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=((t,e="")=>{let o,i=e&&e.split("/")||[],n=0;const s=t&&t.split("/")||[],r=t&&x(t),a=e&&x(e),l=r||a;if(t&&x(t)?i=s:s.length&&(i.pop(),i=i.concat(s)),!i.length)return"/";if(i.length){const t=i[i.length-1];o="."===t||".."===t||""===t}else o=!1;for(let h=i.length;h>=0;h--){const t=i[h];"."===t?v(i,h):".."===t?(v(i,h),n++):n&&(v(i,h),n--)}if(!l)for(;n--;n)i.unshift("..");!l||""===i[0]||i[0]&&x(i[0])||i.unshift("");let c=i.join("/");return o&&"/"!==c.substr(-1)&&(c+="/"),c})(n.pathname,i.pathname)):n.pathname=i.pathname:n.pathname||(n.pathname="/"),n.query=(s=n.search||"")?(/^[?#]/.test(s)?s.slice(1):s).split("&").reduce((t,e)=>{let[o,i]=e.split("=");return t[o]=i?decodeURIComponent(i.replace(/\+/g," ")):"",t},{}):{},n};let P=0;const O={},z=(t,e={})=>{"string"==typeof e&&(e={path:e});const{path:o="/",exact:i=!1,strict:n=!1}=e,{re:s,keys:r}=((t,e)=>{const o=`${e.end}${e.strict}`,i=O[o]||(O[o]={}),n=JSON.stringify(t);if(i[n])return i[n];const s=[],r={re:u(t,s,e),keys:s};return P<1e4&&(i[n]=r,P+=1),r})(o,{end:i,strict:n}),a=s.exec(t);if(!a)return null;const[l,...c]=a,h=t===l;return i&&!h?null:{path:o,url:"/"===o&&""===l?"/":l,isExact:h,params:r.reduce((t,e,o)=>(t[e.name]=c[o],t),{})}},E=class{constructor(e){t(this,e)}render(){return e(o,null,e("header",{class:"header"},e("stencil-route-link",{url:"/"},e("img",{src:"/images/lockup.png",alt:"Pizza to the Polls"})),e("ul",{class:"menu",id:"menu"},e("li",null,e("stencil-route-link",{url:"/report"},"Report")),e("li",null,e("stencil-route-link",{url:"/donate"},"Donate")),e("li",null,e("stencil-route-link",{url:"/about"},"About")))),e("main",null,e("stencil-router",null,e("stencil-route-switch",{scrollTopOffset:0},e("stencil-route",{url:"/",component:"page-home",exact:!0}),e("stencil-route",{url:"/donate",component:"page-donate"}),e("stencil-route",{url:"/report",component:"page-report"}),e("stencil-route",{url:"/about",component:"page-about"}),e("stencil-route",{url:"/trucks",component:"page-trucks"}),e("stencil-route",{url:"/partners",component:"page-partners"}),e("stencil-route",{url:"/on-demand",component:"page-on-demand"}),e("stencil-route",{url:"/covid",component:"page-covid"}),e("stencil-route",{url:"/press",component:"page-press"}),e("stencil-route",{url:"/activity",component:"page-activity"})))),e("footer",null,e("div",{class:"container"},e("div",{id:"mc_embed_signup",class:"clearfix",style:{clear:"left",width:"100%",maxWidth:"500px",margin:"0 auto 40px auto"}},e("form",{action:"https://pizza.us14.list-manage.com/subscribe/post?u=ff4b828d01c30e7ef1de2e24b&id=a2d940b77b",method:"post",id:"mc-embedded-subscribe-form",name:"mc-embedded-subscribe-form",class:"validate",target:"_blank",noValidate:!0},e("div",{id:"mc_embed_signup_scroll"},e("label",{htmlFor:"mce-EMAIL"},"Sign up for updates"),e("input",{type:"email",value:"",name:"EMAIL",class:"email",id:"mce-EMAIL",placeholder:"email address",required:!0}),e("input",{type:"submit",value:"Subscribe",name:"subscribe",id:"mc-embedded-subscribe",class:"button"}),e("div",{style:{position:"absolute",left:"-5000px"},"aria-hidden":"true"},e("input",{type:"text",name:"b_ff4b828d01c30e7ef1de2e24b_a2d940b77b",tabindex:"-1",value:"",readOnly:!0}))))),e("div",{class:"footer-nav"},e("ul",null,e("li",null,e("stencil-route-link",{url:"/about"},"About")),e("li",null,e("stencil-route-link",{url:"/partners"},"Partners")),e("li",null,e("stencil-route-link",{url:"/press"},"Press")),e("li",null,e("a",{href:"mailto:morequestions@polls.pizza"},"Contact us"))),e("ul",null,e("li",null,e("stencil-route-link",{url:"/trucks"},"Food trucks")),e("li",null,e("stencil-route-link",{url:"/on-demand"},"On-demand")),e("li",null,e("stencil-route-link",{url:"/covid"},"COVID safety"))),e("ul",{class:"social"},e("li",null,e("a",{class:"twitter",href:"https://twitter.com/pizzatothepolls",target:"blank"},e("img",{alt:"Twitter",src:"/images/twitter.svg"}))),e("li",null,e("a",{class:"facebook",href:"https://facebook.com/pizzatothepolls",target:"blank"},e("img",{alt:"Facebook",src:"/images/facebook.svg"}))),e("li",null,e("a",{class:"instagram",href:"https://www.instagram.com/pizzatothepolls/",target:"blank"},e("img",{alt:"Instagram",src:"/images/instagram.svg"}))))))))}};E.style='.header{color:#fff;border-top:10px solid #db2b39;position:-webkit-sticky;position:sticky;width:100%;background-color:#fff;background-size:200px;top:0;z-index:1000;padding:20px 5px;text-align:center}.header img{width:300px;vertical-align:middle}.menu{list-style-type:none;margin:0;padding:10px 0 10px 0;width:100%;font-weight:bold;z-index:1000;text-align:center}.menu li{display:inline-block;font-size:18px;font-weight:bold;padding:0 10px;margin:0 10px;position:relative;color:#29335c}.menu li:after{content:"|";position:absolute;top:0;right:-15px}.menu li:last-child:after{content:""}.menu a,.menu stencil-route-link{text-decoration:none;color:#db2b39;display:block;-webkit-transition:color 0.1s ease-in-out;transition:color 0.1s ease-in-out}.menu a:hover,.menu a:focus,.menu stencil-route-link:hover,.menu stencil-route-link:focus{color:#00c1cc}.menu a:active,.menu .link-active{color:#00c1cc}@media (min-width: 600px){.header{border-bottom:none;position:relative;padding-left:0;padding-right:0}.header img{width:400px}.menu{position:relative;top:0;text-align:center;padding:20px 0 0 0}.menu li{display:inline-block;width:auto;font-size:24px}}*{-webkit-box-sizing:border-box;box-sizing:border-box}body{font-family:"Work Sans", sans-serif}a{color:#00c1cc;text-decoration:none;-webkit-transition:color 0.1s ease-in-out;transition:color 0.1s ease-in-out}a:hover{color:#009199}h1{text-align:center;color:#3dc1c8}h1,h2{font-weight:800}form{border-radius:4px;padding:0}p,li{line-height:1.5}img{max-width:100%}.display{font-family:"Fredoka One";font-weight:normal}.clearfix:after{content:"";display:table;clear:both}[hidden]{display:none}.bg{position:absolute;top:0;bottom:0;left:0;right:0;background:url("/images/bg.png");background-size:400px;z-index:1}.form-item{padding:20px 0;border-top:none}.form-item table{width:100%}label{display:block;margin-bottom:10px;font-weight:bold;font-size:1.2em}legend{font-weight:bold;font-size:1.2em}input,textarea{font-family:"Open Sans", sans-serif;width:100%;margin-bottom:0.5em;border-radius:4px;padding:10px;border:1px solid #ccc;overflow:hidden}input[type=submit],.submit{-webkit-transition:background-color 0.1s ease-in;transition:background-color 0.1s ease-in;display:block;background:#3dc1c8;border:none;color:#fff;cursor:pointer;width:100%;font-weight:bold;margin-bottom:0;padding:20px;border-radius:0 0 4px 4px}input[type=submit]:hover,.submit:hover{background:#35a8ae}.help{font-size:0.8em;font-style:italic;display:block}section{padding:20px 0}.container{max-width:800px;padding:0 20px;margin:0 auto}.is-disabled{opacity:0;cursor:default}.page{background-color:#eef0f2;color:#29335c;padding-bottom:40px}.page .photo{border-radius:10px}.page h1{text-align:left;font-size:2em;color:#29335c}.page p+h2{margin-top:2em}.page h3{margin-bottom:0}.page h3+p{margin-top:0}.page p+h3{margin-top:1.5em}.page img{max-width:100%}.page a{color:#db2b39}.page a:hover,.page a:active,.page a:focus{color:#b41f2b}.photo-grid{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:start;align-items:flex-start}.photo-grid img{width:24%;height:auto;border-radius:10px}footer{background:#29335c;border-top:5px solid #db2b39;color:#fff;padding:40px 0}footer a{color:#fff}footer input[type=email]{width:calc(100% - 140px);float:left;border:2px solid #fff;border-radius:4px 0 0 4px}footer input[type=submit]{float:left;width:140px;border:2px solid #fff;border-radius:0 4px 4px 0;padding:10px}.footer-nav{padding:20px 0 40px 0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border-top:3px solid #fff}.footer-nav ul{list-style-type:none;padding:0 40px 0 0;-ms-flex-positive:1;flex-grow:1}.footer-nav ul li{font-size:18px}.footer-nav ul li a{text-decoration:none}.footer-nav ul li a.link-active{color:#00c1cc}.footer-nav .social{padding:0;text-align:center}.footer-nav .social li{display:inline-block;margin:0 10px}@media (min-width: 600px){.footer-nav{-ms-flex-direction:row;flex-direction:row}.footer-nav .social{text-align:right}}@media (min-width: 769px){h1{font-size:3em}h1 .emoji,h1 .emoji:first-of-type{display:inline}p,li{font-size:18px}}#payment-request-button{margin-top:18px}.button{padding:15px 20px;border-radius:5px;font-weight:bold;text-decoration:none;display:inline-block;-webkit-transition:background-color 0.1s ease-in-out;transition:background-color 0.1s ease-in-out}.button.primary{background:#00c1cc;color:#fff}.button.primary:hover,.button.primary:active,.button.primary:focus{background-color:#009199;color:#fff}.button.secondary{background:#db2b39;color:#fff}.button.secondary:hover,.button.secondary:active,.button.secondary:focus{background-color:#b41f2b;color:#fff}';const _=class{constructor(e){t(this,e),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=z(t.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let t={};var e,o;this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):!this.match||(o=this.previousMatch,null==(e=this.match)&&null==o||null!=o&&e&&o&&e.path===o.path&&e.url===o.url&&w(e.params,o.params))||!this.routeViewsUpdated||this.routeViewsUpdated(t)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},t,{component:this.component})):this.component?e(this.component,Object.assign({},t)):void 0}get el(){return i(this)}static get watchers(){return{location:["computeMatch"]}}};s.injectProps(_,["location","history","historyType","routeViewsUpdated"]),_.style="stencil-route.inactive{display:none}";const j=(t,e,o)=>o(t.confirm(e)),S=(t,e)=>{const o=t[e],i="__storage_test__";try{return o.setItem(i,i),o.removeItem(i),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==o.length}},A=class{constructor(e){t(this,e),this.unsubscribe=()=>{},this.activeClass="link-active",this.exact=!1,this.strict=!0,this.custom="a",this.match=null}componentWillLoad(){this.computeMatch()}computeMatch(){this.location&&(this.match=z(this.location.pathname,{path:this.urlMatch||this.url,exact:this.exact,strict:this.strict}))}handleClick(t){var e,o,i;if(!((e=t).metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&this.history&&this.url&&this.root)return t.preventDefault(),this.history.push((i=this.root,"/"==(o=this.url).charAt(0)&&"/"==i.charAt(i.length-1)?i.slice(0,i.length-1)+o:i+o))}render(){let t={class:{[this.activeClass]:null!==this.match},onClick:this.handleClick.bind(this)};return this.anchorClass&&(t.class[this.anchorClass]=!0),"a"===this.custom&&(t=Object.assign({},t,{href:this.url,title:this.anchorTitle,role:this.anchorRole,tabindex:this.anchorTabIndex,"aria-haspopup":this.ariaHaspopup,id:this.anchorId,"aria-posinset":this.ariaPosinset,"aria-setsize":this.ariaSetsize,"aria-label":this.ariaLabel})),e(this.custom,Object.assign({},t),e("slot",null))}get el(){return i(this)}static get watchers(){return{location:["computeMatch"]}}};s.injectProps(A,["history","location","root"]);const R=t=>"STENCIL-ROUTE"===t.tagName,U=class{constructor(e){t(this,e),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=n(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(t){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(R).map((o,i)=>{const n=z(t.pathname,{path:o.url,exact:o.exact,strict:!0});return n&&-1===e&&(e=i),{el:o,match:n}}),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const o=this.subscribers[this.activeIndex];this.scrollTopOffset&&(o.el.scrollTopOffset=this.scrollTopOffset),o.el.group=this.group,o.el.match=o.match,o.el.componentUpdated=t=>{this.queue.write(()=>{this.subscribers.forEach((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"})}),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}render(){return e("slot",null)}get el(){return i(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};s.injectProps(U,["location","routeViewsUpdated"]);const L=(t,...e)=>{t||console.warn(...e)},T=()=>{let t,e=[];return{setPrompt:e=>(L(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,o,i,n)=>{if(null!=t){const s="function"==typeof t?t(e,o):t;"string"==typeof s?"function"==typeof i?i(s,n):(L(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),n(!0)):n(!1!==s)}else n(!0)},appendListener:t=>{let o=!0;const i=(...e)=>{o&&t(...e)};return e.push(i),()=>{o=!1,e=e.filter(t=>t!==i)}},notifyListeners:(...t)=>{e.forEach(e=>e(...t))}}},C=(t,e="scrollPositions")=>{let o=new Map;const i=(e,i)=>{if(o.set(e,i),S(t,"sessionStorage")){const e=[];o.forEach((t,o)=>{e.push([o,t])}),t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};if(S(t,"sessionStorage")){const i=t.sessionStorage.getItem(e);o=i?new Map(JSON.parse(i)):o}return"scrollRestoration"in t.history&&(history.scrollRestoration="manual"),{set:i,get:t=>o.get(t),has:t=>o.has(t),capture:e=>{i(e,[t.scrollX,t.scrollY])}}},M={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+g(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:g,decodePath:m},slash:{encodePath:m,decodePath:m}},H=(t,e)=>{const o=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:o})},I={browser:(t,e={})=>{let o=!1;const i=t.history,n=t.location,s=t.navigator,r=(t=>{const e=t.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&t.history&&"pushState"in t.history})(t),a=!(-1===s.userAgent.indexOf("Trident")),l=C(t),c=null!=e.forceRefresh&&e.forceRefresh,h=null!=e.getUserConfirmation?e.getUserConfirmation:j,u=null!=e.keyLength?e.keyLength:6,g=e.basename?f(m(e.basename)):"",x=()=>{try{return t.history.state||{}}catch(e){return{}}},v=t=>{t=t||{};const{key:e,state:o}=t,{pathname:i,search:s,hash:r}=n;let a=i+s+r;return L(!g||d(a,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+g+'".'),g&&(a=p(a,g)),k(a,o,e||y(u))},w=T(),P=t=>{l.capture($.location.key),Object.assign($,t),$.location.scrollPosition=l.get($.location.key),$.length=i.length,w.notifyListeners($.location,$.action)},O=t=>{((t,e)=>void 0===e.state&&-1===t.userAgent.indexOf("CriOS"))(s,t)||E(v(t.state))},z=()=>{E(v(x()))},E=t=>{if(o)o=!1,P();else{const e="POP";w.confirmTransitionTo(t,e,h,o=>{o?P({action:e,location:t}):_(t)})}},_=t=>{let e=A.indexOf($.location.key),i=A.indexOf(t.key);-1===e&&(e=0),-1===i&&(i=0);const n=e-i;n&&(o=!0,H(n))},S=v(x());let A=[S.key],R=0,U=!1;const M=t=>g+b(t),H=t=>{i.go(t)},I=e=>{R+=e,1===R?(t.addEventListener("popstate",O),a&&t.addEventListener("hashchange",z)):0===R&&(t.removeEventListener("popstate",O),a&&t.removeEventListener("hashchange",z))},$={length:i.length,action:"POP",location:S,createHref:M,push:(t,e)=>{L(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const o=k(t,e,y(u),$.location);w.confirmTransitionTo(o,"PUSH",h,t=>{if(!t)return;const e=M(o),{key:s,state:a}=o;if(r)if(i.pushState({key:s,state:a},"",e),c)n.href=e;else{const t=A.indexOf($.location.key),e=A.slice(0,-1===t?0:t+1);e.push(o.key),A=e,P({action:"PUSH",location:o})}else L(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),n.href=e})},replace:(t,e)=>{L(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const o=k(t,e,y(u),$.location);w.confirmTransitionTo(o,"REPLACE",h,t=>{if(!t)return;const e=M(o),{key:s,state:a}=o;if(r)if(i.replaceState({key:s,state:a},"",e),c)n.replace(e);else{const t=A.indexOf($.location.key);-1!==t&&(A[t]=o.key),P({action:"REPLACE",location:o})}else L(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),n.replace(e)})},go:H,goBack:()=>H(-1),goForward:()=>H(1),block:(t="")=>{const e=w.setPrompt(t);return U||(I(1),U=!0),()=>(U&&(U=!1,I(-1)),e())},listen:t=>{const e=w.appendListener(t);return I(1),()=>{I(-1),e()}},win:t};return $},hash:(t,e={})=>{let o=!1,i=null,n=0,s=!1;const r=t.location,a=t.history,l=-1===t.navigator.userAgent.indexOf("Firefox"),c=null!=e.keyLength?e.keyLength:6,{getUserConfirmation:h=j,hashType:u="slash"}=e,g=e.basename?f(m(e.basename)):"",{encodePath:x,decodePath:v}=M[u],P=()=>{const t=r.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},O=t=>{const e=r.href.indexOf("#");r.replace(r.href.slice(0,e>=0?e:0)+"#"+t)},z=()=>{let t=v(P());return L(!g||d(t,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+g+'".'),g&&(t=p(t,g)),k(t,void 0,y(c))},E=T(),_=t=>{Object.assign(F,t),F.length=a.length,E.notifyListeners(F.location,F.action)},S=()=>{const t=P(),e=x(t);if(t!==e)O(e);else{const t=z(),e=F.location;if(!o&&(n=e).pathname===(s=t).pathname&&n.search===s.search&&n.hash===s.hash&&n.key===s.key&&w(n.state,s.state))return;if(i===b(t))return;i=null,A(t)}var n,s},A=t=>{if(o)o=!1,_();else{const e="POP";E.confirmTransitionTo(t,e,h,o=>{o?_({action:e,location:t}):R(t)})}},R=t=>{let e=I.lastIndexOf(b(F.location)),i=I.lastIndexOf(b(t));-1===e&&(e=0),-1===i&&(i=0);const n=e-i;n&&(o=!0,$(n))},U=P(),C=x(U);U!==C&&O(C);const H=z();let I=[b(H)];const $=t=>{L(l,"Hash history go(n) causes a full page reload in this browser"),a.go(t)},D=(t,e)=>{n+=e,1===n?t.addEventListener("hashchange",S):0===n&&t.removeEventListener("hashchange",S)},F={length:a.length,action:"POP",location:H,createHref:t=>"#"+x(g+b(t)),push:(t,e)=>{L(void 0===e,"Hash history cannot push state; it is ignored");const o=k(t,void 0,y(c),F.location);E.confirmTransitionTo(o,"PUSH",h,t=>{if(!t)return;const e=b(o),n=x(g+e);if(P()!==n){i=e,(t=>{r.hash=t})(n);const t=I.lastIndexOf(b(F.location)),s=I.slice(0,-1===t?0:t+1);s.push(e),I=s,_({action:"PUSH",location:o})}else L(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),_()})},replace:(t,e)=>{L(void 0===e,"Hash history cannot replace state; it is ignored");const o=k(t,void 0,y(c),F.location);E.confirmTransitionTo(o,"REPLACE",h,t=>{if(!t)return;const e=b(o),n=x(g+e);P()!==n&&(i=e,O(n));const s=I.indexOf(b(F.location));-1!==s&&(I[s]=e),_({action:"REPLACE",location:o})})},go:$,goBack:()=>$(-1),goForward:()=>$(1),block:(e="")=>{const o=E.setPrompt(e);return s||(D(t,1),s=!0),()=>(s&&(s=!1,D(t,-1)),o())},listen:e=>{const o=E.appendListener(e);return D(t,1),()=>{D(t,-1),o()}},win:t};return F}},$=class{constructor(e){t(this,e),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&"browser"===this.historyType){const e=this.history.win.document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)},this.isServer=n(this,"isServer"),this.queue=n(this,"queue")}componentWillLoad(){this.history=I[this.historyType](this.el.ownerDocument.defaultView),this.history.listen(t=>{t=H(t,this.root),this.location=t}),this.location=H(this.history.location,this.root)}scrollTo(t){const e=this.history;if(null!=t&&!this.isServer&&e)return"POP"===e.action&&Array.isArray(e.location.scrollPosition)?this.queue.write(()=>{e&&e.location&&Array.isArray(e.location.scrollPosition)&&e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])}):this.queue.write(()=>{e.win.scrollTo(0,t)})}render(){if(this.location&&this.history)return e(s.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},e("slot",null))}get el(){return i(this)}};export{E as app_root,_ as stencil_route,A as stencil_route_link,U as stencil_route_switch,$ as stencil_router}